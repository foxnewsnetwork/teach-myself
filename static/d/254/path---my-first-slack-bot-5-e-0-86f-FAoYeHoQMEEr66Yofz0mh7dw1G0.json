{"data":{"markdownRemark":{"html":"<h1 id=\"putting-together-a-slack-bot\"><a href=\"#putting-together-a-slack-bot\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Putting Together a Slack Bot</h1>\n<p>Here, I document and go over the steps it took me to setup a slack bot.</p>\n<p>The ultimate vision is eventually get this slack bot to process UML and drawing languages and return diagrams directly into slack, then charge companies some amount of money for this service.</p>\n<h2 id=\"going-through-documentation\"><a href=\"#going-through-documentation\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Going through documentation</h2>\n<p>I start out by read through <a href=\"https://api.slack.com/bot-users#getting-started\">slack bot docs</a></p>\n<p>I click the Create App button and name my bot - in this case \"diagram\"</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/74ad1/create-app.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 672px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 70.24704618689582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABkUlEQVQ4y5WT2W6DMBBF+f8vy0OkvOS5VMoKFAI2NmbLdO60YzlR2qqWrjDGPr6zkJVlQcXlTOVHTRWrM5b8EMj54VHDz/KiIMqmwdHsjbyM40ghBPrvuN/vtK6rKDPW6nLc0LYtnU4nul6vdD6z+7Kkrute6na70TRNEZyBuizLg/I8p+12S7vdjjabDe33+whPdblc6HA4iAFwpnnmkJmOMAHCDXgaY6iqKpmnYT0LEDyRqmEaKW/KL+DAScWiugWwrusYFi7EPuyZ2cWznOM6LDOFiR0CgM2pw77vIwzhQDikl6YuMeSbXMpA3KA3KxAA5KcoChHyhSgwUiDmOIdvuiZADSl1CGjTNBI+5nBruSNEvNbz03tHgWHW9sKAsQjUwigQB9P2AFiF5m+t46bmFLAJ773AYCpWWUNeGVi3hoq6jWBAkCe8O8cKI/XjQm5apXsB03xmWinNDebop9+GtQjZ0Hv+RsfjUXKo51+2jYT7Xd1XQm7RVigWGh4ha5GkbeBK86cu/xL26v+bttEnwj4/3KQYeXIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"create app screenshot\"\n        title=\"\"\n        src=\"/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/e372f/create-app.png\"\n        srcset=\"/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/26d00/create-app.png 168w,\n/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/6bdce/create-app.png 336w,\n/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/e372f/create-app.png 672w,\n/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/74ad1/create-app.png 931w\"\n        sizes=\"(max-width: 672px) 100vw, 672px\"\n      />\n  </span>\n  </a></p>\n<h2 id=\"app-design\"><a href=\"#app-design\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>App Design</h2>\n<p>Here's what I want this app to do:</p>\n<ul>\n<li>When given a command like the following:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\\diagram flow \n\nst=&gt;start: Start:&gt;http://www.google.com[blank]\ne=&gt;end:&gt;http://www.google.com\nop1=&gt;operation: My Operation\nsub1=&gt;subroutine: My Subroutine\ncond=&gt;condition: Yes\nor No?:&gt;http://www.google.com\nio=&gt;inputoutput: catch something...\npara=&gt;parallel: parallel tasks\n\nst-&gt;op1-&gt;cond\ncond(yes)-&gt;io-&gt;e\ncond(no)-&gt;para\npara(path1, bottom)-&gt;sub1(right)-&gt;op1\npara(path2, top)-&gt;op1</code></pre></div>\n<ul>\n<li>I would like this to lead to an image like they have on <a href=\"http://flowchart.js.org/\">flowchart.js</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">https://some-cdn-host.com/hash-val.png</code></pre></div>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/teach-myself/static/7d92fc45527d1d37acf4c2a125b28a8a/6b6f9/flow-chart.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 447px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 122.14765100671141%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsSAAALEgHS3X78AAACQklEQVQ4y52V14oCUQyG5/3fxnsvRBR7770rimDvJcsXiDs6CrseCHPmnMyf5E8Z53w+y+l0kvv9Lo1GQ9LptMTjcZlOp3K73fQOnb+KY5vL5SLH41FisZjU63UxQ38VDyBgeNnr9VSBxfs7eXfnAbxer6pYqVQklUpJs9mUarUq5XJZz3jannuigCKetVpNHSJKB2/gajgcSrvdlmAwqDzy4Wg0kv1+L+v1Wjabjcp2u5VsNvvY73Y7BVytVuqUY+FlMhlJJBJqFTBAMcDCMsoIxvHKzgi32+0+A6LU7/cVLJlMKiAfzWYzT6YBggo7AwTDD8BXDrFGmCzO3GDs3YDIR0ALnVDhk/UKZiHCGcB4j3z0sNVqqXUyPJlMPECcQQ2FzxM5HA5eDlnFYlF5G4/HWgLwGAgEHueUjN/v13MEvikfjAwGA1kul78e4j4WUMQ7pNPpKJcYxAv0uC+VShKJRDRsjPEdzfAEaCEjlA8fWVmYQTeX3Juxj0mx1oNHksK7u08h3xYRuN89gEY6i1ABs3618lksFsoVUygcDivXGKZWScojZCzRWlzO53PNIISjaISz4I0kUQXQAp+hUEh8Pp8mjDbUXraMIoVCQZ+5XE73kI0BFpmmNbnP5/MKwh3yNL5wlWLGKzKHAtnDEwRuiMKS9trX0OJOmmMVz4sRDogpmvJr17gH8NuJbUMCghlNbqtf/QKsYwiZRLin8L8B7SfFQOWfEo1GtXC/8fKpU0gQGaQTbFR9DWig7zL3H/kBI2whBiVjjOcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"rendered output\"\n        title=\"\"\n        src=\"/teach-myself/static/7d92fc45527d1d37acf4c2a125b28a8a/6b6f9/flow-chart.png\"\n        srcset=\"/teach-myself/static/7d92fc45527d1d37acf4c2a125b28a8a/0d5c6/flow-chart.png 168w,\n/teach-myself/static/7d92fc45527d1d37acf4c2a125b28a8a/4046a/flow-chart.png 336w,\n/teach-myself/static/7d92fc45527d1d37acf4c2a125b28a8a/6b6f9/flow-chart.png 447w\"\n        sizes=\"(max-width: 447px) 100vw, 447px\"\n      />\n  </span>\n  </a></p>\n<h2 id=\"creating-new-commands\"><a href=\"#creating-new-commands\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating New Commands</h2>\n<p>Under the <a href=\"https://api.slack.com/apps/AFVRCMG72/slash-commands?\">MyApps page</a> on slack, I go into <code class=\"language-text\">Features &gt; Slash Commands</code> to create my desired command</p>\n<p>The API presented here seems quite intuitive, and demands that I will need:</p>\n<ul>\n<li>\n<p>command</p>\n<ul>\n<li><code class=\"language-text\">\\diagram</code></li>\n</ul>\n</li>\n<li>\n<p>request url</p>\n<ul>\n<li>I'll need to setup my lambda back-end here</li>\n<li>Q: What actually does the request to my back-end look like?</li>\n<li>Q: What will my response need to be?</li>\n</ul>\n</li>\n<li>\n<p>description</p>\n<ul>\n<li>Draws a graph!</li>\n</ul>\n</li>\n<li>\n<p>usage hints</p>\n<ul>\n<li>Show above hint</li>\n</ul>\n</li>\n</ul>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/teach-myself/static/5738082c4ac9384ab122d91a17c063f1/2ae14/create-new-cmd.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 595px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 115.63025210084035%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsSAAALEgHS3X78AAAB+klEQVQ4y42V2Y7CMAxF+/+fBg9M5x0EZSmUrUDZl4yORzdySxlNpFunaez4ekmT4Mbr9TJ5OBxCmqah2+2GXq8X0q80fKffNu90OmE0GtX2+5E8Ho/g8Xw+TR6PRzN8Op1CVVUmed/v9+F6vZox9nqglzRP0cem11rnHcX7/R6hdZCwebvdhsViETabTTQCLpeLeYdXzJuGeL/dbqEsS5sbZR4orddrU/QGoQZ1vjNvGgQYZI9YJYqFqAAZbCp+AodFgzwmk0kYDAah3++b+xp4tlqtLBSSHrDa7XYmOTR62DZ8EppoZlb7oockJBtlYTqdWo3JS2JDwgS8wiPRBMxJWPSQBwsoU2uqM4Y2C+fzuTXbKp1IWUFns6fsPZE3mktHspYUKA+Hw5DP8lpR4zEU8RpJpxAOPFX8VIs1ys1+9j1N3DCCUeLIHOOg3JZWCbWktPWkNvgsSn7KcM1gURRhNpsZxuOxhYA1sk4o5vO51eo8/5VQ9EOGI2VooAQ9aFGoUPGB11w3zacwJf728LTaFKTUFqY3ylAFWZbFVoRusSjCf0e8vnxhC3pXF/x1OfC91nrEhbiRDCUkz3OTeExyqL2/8NYp8kjloJhKtpWNv+beDC6XS8u02q/tlvFtqoyLcs0gp1My3DRQ/vRHY606VNYhakPgS+kH/RACWGjziqYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"creating new slack commands\"\n        title=\"\"\n        src=\"/teach-myself/static/5738082c4ac9384ab122d91a17c063f1/2ae14/create-new-cmd.png\"\n        srcset=\"/teach-myself/static/5738082c4ac9384ab122d91a17c063f1/fa436/create-new-cmd.png 168w,\n/teach-myself/static/5738082c4ac9384ab122d91a17c063f1/f2f14/create-new-cmd.png 336w,\n/teach-myself/static/5738082c4ac9384ab122d91a17c063f1/2ae14/create-new-cmd.png 595w\"\n        sizes=\"(max-width: 595px) 100vw, 595px\"\n      />\n  </span>\n  </a></p>\n<p>But before I can proceed, I </p>\n<h2 id=\"the-internals-of-a-slack-command-request\"><a href=\"#the-internals-of-a-slack-command-request\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Internals of a Slack Command Request</h2>\n<p>According to the <a href=\"https://api.slack.com/slash-commands#app_command_handling\">slack API docs</a>, we have the following example:</p>\n<ul>\n<li><code class=\"language-text\">/weather 94070</code> leads to the following response</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">token=gIkuvaNzQIHg97ATvDxqgjtO\n&amp;team_id=T0001\n&amp;team_domain=example\n&amp;enterprise_id=E0001\n&amp;enterprise_name=Globular%20Construct%20Inc\n&amp;channel_id=C2147483705\n&amp;channel_name=test\n&amp;user_id=U2147483697\n&amp;user_name=Steve\n&amp;command=/weather\n&amp;text=94070\n&amp;response_url=https://hooks.slack.com/commands/1234/5678\n&amp;trigger_id=13345224609.738474920.8088930838d88f008e0</code></pre></div>\n<p>With header <code class=\"language-text\">Content-Type: application/x-www-form-urlencoded</code> </p>\n<p>For us, the fields <code class=\"language-text\">text</code> will store the directives to draw our UML file, and possibly <code class=\"language-text\">team_id</code> / <code class=\"language-text\">enterprise_id</code> for when we decide to track usage and costs</p>\n<blockquote>\n<p>Note: if our response takes longer than 3s, we'll have to use the <code class=\"language-text\">response_url</code> field and send back <code class=\"language-text\">200</code> right away</p>\n</blockquote>\n<h2 id=\"a-slack-command-response\"><a href=\"#a-slack-command-response\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A Slack Command Response</h2>\n<p>In slack, we have 3000 ms (3 seconds) to make a resposne before we are considered timeout. In that time, we must respond with the following</p>\n<ul>\n<li><code class=\"language-text\">status: 200</code></li>\n<li><code class=\"language-text\">content-type: application/json</code> </li>\n</ul>\n<p>Here's the type of expected response (see <a href=\"https://api.slack.com/docs/messages#composing_messages\">composing messages docs</a> for more details)</p>\n<blockquote>\n<p>Protip: a lot of this requires experimentation on the <a href=\"https://api.slack.com/docs/messages/builder?msg=%7B%22text%22%3A%22We%20should%20be%20concerned%20if%20the%20variable%20value%20for%20%60radioactive%60%20is%20%60true%60.%22%7D\">slack message builder</a></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> SlackResponse <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  response_type<span class=\"token punctuation\">:</span> <span class=\"token string\">'ephemeral'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'in_channel'</span><span class=\"token punctuation\">,</span>\n  text<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\n  attachments<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span>Attachment<span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> Attachment <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  text<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>Sidenote: we could also send back plain text, but that's not applicable to us</p>\n</blockquote>\n<p>Here's an example response (taken from the <a href=\"https://api.slack.com/docs/message-attachments\">slack messages article</a>)</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"response_type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"in_channel\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"clc no\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"attachments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"fallback\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Required plain-text summary of the attachment.\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"color\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#2eb886\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"pretext\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Optional text that appears above the attachment block\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"author_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Bobby Tables\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"author_link\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://flickr.com/bobby/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"author_icon\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://flickr.com/icons/bobby.jpg\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Slack API Documentation\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"title_link\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://api.slack.com/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Optional text that appears within the attachment\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"fields\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Priority\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"High\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"short\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"image_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://avatars0.githubusercontent.com/u/9582?s=460&amp;v=4\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"thumb_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://avatars3.githubusercontent.com/u/1481354?s=70&amp;v=4\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"footer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Slack API\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"footer_icon\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://avatars2.githubusercontent.com/u/6510388?s=70&amp;v=4\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"ts\"</span><span class=\"token operator\">:</span> <span class=\"token number\">123456789</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>Note: Slack messages appear to be tailor-made for sharing articles and links! So not everything is possible</p>\n</blockquote>\n<p>As it turns out, slack is smart enough to auto-process images:</p>\n<p>So something as simple as:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"attachments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"fallback\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Uh-oh\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"image_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://i.imgur.com/5yDgqz7.jpg\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"actions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"button\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Edit\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://flights.example.com/book/r123456\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"style\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"primary\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Will generate the <a href=\"https://api.slack.com/docs/messages/builder?msg=%7B%22attachments%22%3A%5B%7B%22fallback%22%3A%22Uh-oh%22%2C%22image_url%22%3A%22https%3A%2F%2Fi.imgur.com%2F5yDgqz7.jpg%22%2C%22actions%22%3A%5B%7B%22type%22%3A%22button%22%2C%22text%22%3A%22Edit%22%2C%22url%22%3A%22https%3A%2F%2Fflights.example.com%2Fbook%2Fr123456%22%2C%22style%22%3A%22primary%22%7D%5D%7D%5D%7D\">following</a></p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/74ad1/message.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 672px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 70.24704618689582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABkUlEQVQ4y5WT2W6DMBBF+f8vy0OkvOS5VMoKFAI2NmbLdO60YzlR2qqWrjDGPr6zkJVlQcXlTOVHTRWrM5b8EMj54VHDz/KiIMqmwdHsjbyM40ghBPrvuN/vtK6rKDPW6nLc0LYtnU4nul6vdD6z+7Kkrute6na70TRNEZyBuizLg/I8p+12S7vdjjabDe33+whPdblc6HA4iAFwpnnmkJmOMAHCDXgaY6iqKpmnYT0LEDyRqmEaKW/KL+DAScWiugWwrusYFi7EPuyZ2cWznOM6LDOFiR0CgM2pw77vIwzhQDikl6YuMeSbXMpA3KA3KxAA5KcoChHyhSgwUiDmOIdvuiZADSl1CGjTNBI+5nBruSNEvNbz03tHgWHW9sKAsQjUwigQB9P2AFiF5m+t46bmFLAJ773AYCpWWUNeGVi3hoq6jWBAkCe8O8cKI/XjQm5apXsB03xmWinNDebop9+GtQjZ0Hv+RsfjUXKo51+2jYT7Xd1XQm7RVigWGh4ha5GkbeBK86cu/xL26v+bttEnwj4/3KQYeXIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"generated message\"\n        title=\"\"\n        src=\"/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/e372f/message.png\"\n        srcset=\"/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/26d00/message.png 168w,\n/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/6bdce/message.png 336w,\n/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/e372f/message.png 672w,\n/teach-myself/static/87c9094b04b71017f5c854244ca7a40d/74ad1/message.png 931w\"\n        sizes=\"(max-width: 672px) 100vw, 672px\"\n      />\n  </span>\n  </a></p>\n<h2 id=\"next-time\"><a href=\"#next-time\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next time</h2>\n<p>In part 2 of this blog, we will go over:</p>\n<ul>\n<li>Setting up lambda</li>\n<li>connecting with graphizo</li>\n</ul>","timeToRead":6,"excerpt":"Putting Together a Slack Bot Here, I document and go over the steps it took me to setup a slack bot. The ultimate vision is eventually get…","frontmatter":{"title":"My First Slack Bot","cover":"2019-02-02/slack-bot.png","date":"2019-02-02","category":"development","tags":["slack","bot","setup","howto"]},"fields":{"nextTitle":"Hello Gatsby","nextSlug":"/hello-gatsby","prevTitle":"Exploration into Serverless Backend with Zeit","prevSlug":"/exploration-into-serverless-backend-with-zeit","slug":"/my-first-slack-bot","date":"2019-02-02T08:00:00.000Z"}}},"pageContext":{"slug":"/my-first-slack-bot"}}