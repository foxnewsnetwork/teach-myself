{"data":{"markdownRemark":{"html":"<h1 id=\"exploration-into-serverless-platform-with-zeit\"><a href=\"#exploration-into-serverless-platform-with-zeit\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exploration into Serverless Platform with Zeit</h1>\n<p>Recently, I was reading Kent Dodd's blog post on <a href=\"https://blog.kentcdodds.com/write-tests-not-too-many-mostly-integration-5e8c7fff591c\">writing integration tests</a>, and he casually means that Guerillmo Ranch, the creator of <a href=\"https://socket.io/\">socket.io</a>, went on to create something called <a href=\"https://zeit.co/\">zeit co</a>.</p>\n<p>He mentions that this is some sort of serverless cloud competing platform.</p>\n<p>To augment my ambition to build the UML slack bot, I'm in the market for a serverless cloud platform that is competitive with aws, kubernetes, azure, etc.,</p>\n<p>This blog post will document my initial explorations into zeit and what that site offers (especially in contrast to running app-sync and lambda on aws)</p>\n<h2 id=\"zeit-now\"><a href=\"#zeit-now\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Zeit Now</h2>\n<p>Picking the bombastically generic name <a href=\"https://zeit.co/now\">Now</a> for their serverless platform, zeit offers what appears to be lambda-like service where they promise to run things like:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>NOTE: it seems zeit does <em>NOT</em> offer things like AppSync, IAM, API Gateway, and the entire massive stack of shit that is a part of AWS</p>\n</blockquote>\n<p>I follow the <a href=\"https://zeit.co/docs/v2/getting-started/installation/\">installation guide</a> and install this \"now\" thing via brew</p>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">npm install -g now</code></pre></div>\n<p>as well as connect them to my github account</p>\n<h2 id=\"spinning-up-a-new-project\"><a href=\"#spinning-up-a-new-project\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spinning up a New Project</h2>\n<p>Now apparently supports deployment with just github deployment; as such, I will follow the <a href=\"https://zeit.co/examples/monorepo/\">monorepo guide</a> and modify our existing <a href=\"https://github.com/foxnewsnetwork/sandbox-serverless\">sandbox-serverless</a> repo to resemble the <a href=\"https://github.com/zeit/now-examples/tree/master/monorepo\">monorepo example</a></p>\n<blockquote>\n<p>Sidnote: it seems zeit now currently supports node, go, python, and (for some reason) php</p>\n</blockquote>\n<p>In any case, after putting in a \"hello-world\"-esque <code class=\"language-text\">api/index.go</code> and <code class=\"language-text\">api/index.js</code> files, I move onto configuring my <code class=\"language-text\">now.json</code></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sandbox-serverless\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"builds\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"api/go/*.go\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"use\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@now/go\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"api/node/*.js\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"use\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@now/node\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"routes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/api/(.*)\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"dest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/api/$1\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Looking at this configuration, I would expect that I can make requests to <code class=\"language-text\">api/go/</code> to hit my <code class=\"language-text\">index.go</code> file.</p>\n<blockquote>\n<p>Protip: the <code class=\"language-text\">req</code> and <code class=\"language-text\">res</code> objects used as arguments to lambda correspond to <a href=\"https://nodejs.org/api/http.html#http_class_http_clientrequest\">Client Request</a> and <a href=\"https://nodejs.org/api/http.html#http_class_http_serverresponse\">Server Response</a> respectively</p>\n</blockquote>\n<p>An exact dissertation on the configuration of <code class=\"language-text\">now.json</code> is found <a href=\"https://zeit.co/docs/v2/deployments/configuration\">here</a></p>\n<p>We deploy with the <code class=\"language-text\">now</code> command</p>\n<h2 id=\"testing-our-deployment\"><a href=\"#testing-our-deployment\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Testing our deployment</h2>\n<p>A deployment result looks like: </p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/teach-myself/static/9c09f6c9d6118ea14f2495bf80d4d1af/5b451/deploy.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 548px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 40.87591240875912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABcElEQVQoz42R227CMBBETYEEB18CSQMJCRAChHJ5gFIkVLXw/z81HdOqF4mHPqws73pnZ49Fvltg+n5Ftt8j3x9g6yX8MIftRKitRqUVikBi0tVQ1oeIBIwx6Pf7GI1GsNZCCPET47xAwqJVCtlgAB0E6PgeJEXaUkJqDak0fOaVMpAe8+02JGuKPZp1J97r9W45kQ6HqGYzlJMJFlWF6+WC99dXnI5HvJ3PeKFzNyhNEhR5jiiObq7SNEXF9xP2zedz1HWNOI4pOC2xZNN4tcJ4u0O52WB9OqHm+gkbDEUEJz9oA9Fq/V3vXnSKMbq7HYKnNezzMwK6lXQdFgXKwwGGA4PB8JaTdGa4oud58H0fATG4090bjcanYMsBruZ4XCwQ0XqcZeiSYcCH1XSKDnl5zea3A8fpu/leNMMQhkJpvUJGDgVFHOBHMsvpUtHRw5egE/rj5l7IKESfggkhb8lxVpY36O7nWmTW/OXuP/EBfE+/DT+MUTcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"deployment results\"\n        title=\"\"\n        src=\"/teach-myself/static/9c09f6c9d6118ea14f2495bf80d4d1af/5b451/deploy.png\"\n        srcset=\"/teach-myself/static/9c09f6c9d6118ea14f2495bf80d4d1af/b1f55/deploy.png 168w,\n/teach-myself/static/9c09f6c9d6118ea14f2495bf80d4d1af/de8d5/deploy.png 336w,\n/teach-myself/static/9c09f6c9d6118ea14f2495bf80d4d1af/5b451/deploy.png 548w\"\n        sizes=\"(max-width: 548px) 100vw, 548px\"\n      />\n  </span>\n  </a></p>\n<p>Now, I will test my endpoint at <code class=\"language-text\">https://sandbox-serverless-jgwvcokcz.now.sh</code></p>\n<p>First up, I load up my <a href=\"https://insomnia.rest/\">insomnia client</a> against the go endpoint:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">METHOD: GET\nURL: https://sandbox-serverless-jgwvcokcz.now.sh/api/go/index.go</code></pre></div>\n<p>I have the following result (success)</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/teach-myself/static/190858eed2dce2ba5f3241843ded5309/0ff8c/go-result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 672px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 16.799999999999997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAyklEQVQI12PIqdn4v7d52//Wur3/Gyp2/p8x8fD/ly9f/n/x4sX/Z8+e/X/y5PH/+/fv/793/97/J4+e/r/16Pz/g9dX/L995/b/u3fv/r99+zZQzZP/b9++BetjcI6u+G9mYP3fyMj+v7GRw38rS+f/3j6e/7283P97eLr99/J2B/I9gDQQe3n8d/dy+u/qbQNW4+PrBVcLUuPu4fqfwT224L+Jkfp/a1vz/2bmBv8NjLT/KyrJ4cTKygr/1VRV/quqKcGxkjJCHgA0IoXU/0wNsgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"go test result\"\n        title=\"\"\n        src=\"/teach-myself/static/190858eed2dce2ba5f3241843ded5309/e372f/go-result.png\"\n        srcset=\"/teach-myself/static/190858eed2dce2ba5f3241843ded5309/26d00/go-result.png 168w,\n/teach-myself/static/190858eed2dce2ba5f3241843ded5309/6bdce/go-result.png 336w,\n/teach-myself/static/190858eed2dce2ba5f3241843ded5309/e372f/go-result.png 672w,\n/teach-myself/static/190858eed2dce2ba5f3241843ded5309/cc870/go-result.png 1008w,\n/teach-myself/static/190858eed2dce2ba5f3241843ded5309/0ff8c/go-result.png 1125w\"\n        sizes=\"(max-width: 672px) 100vw, 672px\"\n      />\n  </span>\n  </a></p>\n<p>Now, the harder test is to attempt to load the nodejs svg image result</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">METHOD: GET\nURL: https://sandbox-serverless-jgwvcokcz.now.sh/api/node/index.js</code></pre></div>\n<p>Since I expect this to be an SVG file, I can post this directly into the browser. Amazingly enough, it works!</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/teach-myself/static/6d26e8bb1fd3af4098e13754fe2452d2/4534f/node-result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 566px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 101.23674911660778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACRElEQVQ4y5VU2ZLaQAz0/39T3jbFU2pfstxr49jg9X1yH+6oRYYyEJyKqsQcHmm6Wxqs5fs7foy+YR4GaKoaZVUhLwr1ulmjKEpsNlvsdnsMx58YThyMpg5+juYyt/Ghezbmtoe548PK4gRpEaNsGgnaIcsLJFmGVPwrjBBnJZKU6xyut4S98HRc/PLhuL6MSzjirh8giBJY7XEP2lrQJEmqCWMZI7koimKk/ifCMEQo8y8ZmTyKYzmTCJsaVd2I1zrfCiBrOvnAZDKGv1wiz3M0kriWAxzbywmX2EYhaAuRoCxL7Pd7ubwRGTYKpG1b/qi3lwust7fvGAwGiOXW24GO7Y5nRR4EgV7UtYsk6DpjrccD3DRJOdZ1daUsTl2pszFztgvCYpLz+fyE7HA4KC1SJbLT6YQ0Ta+U12scj0c8miK8R1OrTrZtS0EiTTibzVBJKzHhcDhUaXiOEiwWi5u2BKYITUKiJK3VaiWaJVKURkczZxCTua6rSLln1hyJ/JbQJCUKBpIujYeI0oi+3W5VQxPMc931E2UGkQYDH7Uhg8e9Xg2ZhPQcx1HqRGa+sQDs0Wu73XfBU5XNggmoRSatwYSk/qo9HpN0zepWmEbBqSURm3b5G7VXZhl0DKaPx2OlTs1IczqdamtwbrT9J0L2GYNI1WjIPbYGJeAe+67bb70JiZCImIRztoF5PUTFNdvDVLqXMj/yZr4Iz/PuntSr1uhFSEp8Hb7vKzVWmlS7lf2vKvOhU3B69ud/z7yUvsBX9hvZ6AxrbD6b8wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"nodejs svg result\"\n        title=\"\"\n        src=\"/teach-myself/static/6d26e8bb1fd3af4098e13754fe2452d2/4534f/node-result.png\"\n        srcset=\"/teach-myself/static/6d26e8bb1fd3af4098e13754fe2452d2/ca603/node-result.png 168w,\n/teach-myself/static/6d26e8bb1fd3af4098e13754fe2452d2/0c16e/node-result.png 336w,\n/teach-myself/static/6d26e8bb1fd3af4098e13754fe2452d2/4534f/node-result.png 566w\"\n        sizes=\"(max-width: 566px) 100vw, 566px\"\n      />\n  </span>\n  </a></p>\n<blockquote>\n<p>Note: the <code class=\"language-text\">graphizo</code> thing label is unfortunate, so I'll probably have to generate my own images on lambda before I go live! @TODO for me</p>\n</blockquote>\n<h2 id=\"stuff-for-the-future\"><a href=\"#stuff-for-the-future\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Stuff for the future</h2>\n<ul>\n<li>Figure out what to do with the <code class=\"language-text\">graphizo</code> stuff</li>\n<li>Figure out how to handle caching data</li>\n<li>Connect the slack bot to the zeit back-end</li>\n<li>Learn about authentication with zeit co</li>\n<li>Figure out a language to annotate images with graphs</li>\n</ul>\n<h1 id=\"appendix\"><a href=\"#appendix\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Appendix</h1>\n<h2 id=\"a1---tldr-on-writing-tests-not-too-many-and-mostly-integration\"><a href=\"#a1---tldr-on-writing-tests-not-too-many-and-mostly-integration\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A1 - TL;DR on Writing Tests, Not too many, and Mostly Integration</h2>\n<p>The gist of Kent Dodd's blog post on <a href=\"https://blog.kentcdodds.com/write-tests-not-too-many-mostly-integration-5e8c7fff591c\">writing integration tests</a> is summarized as:</p>\n<ul>\n<li>\n<p>Unit tests</p>\n<ul>\n<li>Good as training wheels to help the developer learn how to code</li>\n<li>Cheap and write and run</li>\n<li>Nearly completely useless for testing application</li>\n</ul>\n</li>\n<li>\n<p>Acceptance tests (aka application tests)</p>\n<ul>\n<li>Tests <em>exactly</em> what the user will see, so provides application value</li>\n<li>Expensive to write and slow to run</li>\n<li>Brittle</li>\n</ul>\n</li>\n<li>\n<p>Integration tests</p>\n<ul>\n<li>A good compromise between the unit and acceptance</li>\n<li>Focus on writing these</li>\n</ul>\n</li>\n</ul>\n<p>Some side notes</p>\n<ul>\n<li>Coverage is a dumb metric to cover</li>\n<li>Coverage only matters in functional library code</li>\n</ul>\n<h2 id=\"a2---on-nextjs\"><a href=\"#a2---on-nextjs\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A2 - On Next.JS</h2>\n<p>While looking through the example docs, I come across this thing called \"next.js\"</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/teach-myself/static/ed0ed34d2c8325dcf77ba6a84ddfef9e/c0945/nextjs.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 531px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 82.4858757062147%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAABi0lEQVQ4y51Ua4+CMBDk//83TfzkFzXyEBCkvKEgMMcs0VMPD++abFqgO53uzGJcr1eUZQmtNZqmAccwDBK39ePcti2yPEVZlaiqSnIZeZ7LbHBxOByw2+1QFMVT8hxgVVbwLB+n0wnH4xH7/R62ZcM9eTBNEwZPISjZdV33K0NZ9+NDDqRpijiOEQQBlFLAmBrHCgZZ8eMrozmG9xDU59EP0zthGEXRLLt3gLrW6Pte1tSg774PMOq6xvl8lgJ/ypCDedvtVuofJCkUBWr1BOi6rmz4lCEHFV2tViJEVOYIiwxxXU6AnufJhk8BGbwyxXAcB6E/3rDRUATkVanUkv9eAUWIEZT1t0aWqipgJtHE8HK5zJp6CZA5YRjCsW3Eo9GtVE0Mfd9HlmXSBf9lSEBhSEAyZB2p9pKx7x0z5rGGnG8WEttQjFsN/6Iyfcv2syxLCNVtg0zXE0Pahj+HucSlKxOMPU0wN09gEOhVlCVjE4gdwuDzY5cZSZJgvV5js9n8YPUOkM54d/AXfx3jZbpXOPAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"next js in tab bar\"\n        title=\"\"\n        src=\"/teach-myself/static/ed0ed34d2c8325dcf77ba6a84ddfef9e/c0945/nextjs.png\"\n        srcset=\"/teach-myself/static/ed0ed34d2c8325dcf77ba6a84ddfef9e/85ccd/nextjs.png 168w,\n/teach-myself/static/ed0ed34d2c8325dcf77ba6a84ddfef9e/80800/nextjs.png 336w,\n/teach-myself/static/ed0ed34d2c8325dcf77ba6a84ddfef9e/c0945/nextjs.png 531w\"\n        sizes=\"(max-width: 531px) 100vw, 531px\"\n      />\n  </span>\n  </a></p>\n<p>After some research, it seems <a href=\"https://nextjs.org/\">next.js</a> is a react-based server-side rendering framework for building the so-called \"progressive\" web-app. This might be relevant for my actual work at SONY, though not so much for my side hobby projects.</p>\n<p>In any case, I might wind up doing a blog post about it later on</p>\n<h2 id=\"a3---graphizo\"><a href=\"#a3---graphizo\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A3 - Graphizo</h2>\n<p>Although eventually, I would like to (at least partially) handle UML rendering in my own lambda, for now, I can use this URL based service called <a href=\"http://www.gravizo.com/\">graphizo</a> to get started.</p>\n<p>Eventually, because I'd like to support</p>\n<ul>\n<li>animated flow-charts</li>\n<li>in-place editing</li>\n<li>image-annotating diagrams</li>\n</ul>\n<p>that would require me to setup my own parse engine, I'd need to move off of graphizo</p>\n<p>For funsies, here's an example of a graphizo rendered diagram:</p>\n<details>\n<summary>\n<p><img src=\"https://g.gravizo.com/svg?%0A%20%20digraph%20G%20%7B%0A%20%20%20%20aize%20=%224,4%22;%0A%20%20%20%20main%20%5Bshape=box%5D;%0A%20%20%20%20main%20-%3E%20parse%20%5Bweight=8%5D;%0A%20%20%20%20parse%20-%3E%20execute;%0A%20%20%20%20main%20-%3E%20init%20%5Bstyle=dotted%5D;%0A%20%20%20%20main%20-%3E%20cleanup;%0A%20%20%20%20execute%20-%3E%20%7B%20make_string;%20printf%7D%0A%20%20%20%20init%20-%3E%20make_string;%0A%20%20%20%20edge%20%5Bcolor=red%5D;%0A%20%20%20%20main%20-%3E%20printf%20%5Bstyle=bold,label=%22100%20times%22%5D;%0A%20%20%20%20make_string%20%5Blabel=%22make%20a%20string%22%5D;%0A%20%20%20%20node%20%5Bshape=box,style=filled,color=%22.7%20.3%201.0%22%5D;%0A%20%20%20%20execute%20-%3E%20compare;%0A%20%20%7D\" alt=\"Alt text\"></p>\n</summary>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\">![Alt text](https://g.gravizo.com/svg?\n  digraph G {\n<span class=\"token code keyword\">    aize =\"4,4\";</span>\n<span class=\"token code keyword\">    main [shape=box];</span>\n<span class=\"token code keyword\">    main -> parse [weight=8];</span>\n<span class=\"token code keyword\">    parse -> execute;</span>\n<span class=\"token code keyword\">    main -> init [style=dotted];</span>\n<span class=\"token code keyword\">    main -> cleanup;</span>\n<span class=\"token code keyword\">    execute -> { make_string; printf}</span>\n<span class=\"token code keyword\">    init -> make_string;</span>\n<span class=\"token code keyword\">    edge [color=red];</span>\n<span class=\"token code keyword\">    main -> printf [style=bold,label=\"100 times\"];</span>\n<span class=\"token code keyword\">    make_string [label=\"make a string\"];</span>\n<span class=\"token code keyword\">    node [shape=box,style=filled,color=\".7 .3 1.0\"];</span>\n<span class=\"token code keyword\">    execute -> compare;</span>\n  }\n)</code></pre></div>\n</details>","timeToRead":5,"excerpt":"Exploration into Serverless Platform with Zeit Recently, I was reading Kent Dodd's blog post on  writing integration tests , and he casually…","frontmatter":{"title":"Exploration into Serverless Backend with Zeit","cover":"2019-02-03/zeit-co.png","date":"2019-02-03","category":"development","tags":["serverless","lambda","investigation","research","backend"]},"fields":{"nextTitle":"My First Slack Bot","nextSlug":"/my-first-slack-bot","prevTitle":"Hello Gatsby","prevSlug":"/hello-gatsby","slug":"/exploration-into-serverless-backend-with-zeit","date":"2019-02-03T08:00:00.000Z"}}},"pageContext":{"slug":"/exploration-into-serverless-backend-with-zeit"}}